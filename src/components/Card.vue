<template>
  <div class="outer" :style="{ transform: `rotate(${rotation}deg) scale(1.5) translate(-2.5%, 6%)` }">
    <div class="text">TEST</div>
    <svg
      viewBox="0 0 374 182"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xml:space="preserve"
      xmlns:serif="http://www.serif.com/"
      style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"
    >
      <g transform="matrix(1,0,0,1,-6440.13,-6383.45)">
        <g
          transform="matrix(0.785264,0,0,0.753753,6202.24,6259.1)"
          v-if="showBlink.a"
        >
          <g transform="matrix(1,0,0,1,-5963.82,-4981.06)">
            <path
              d="M6419.58,5260.65L6266.76,5213.48L6400.14,5214.66L6411.31,5160.51L6451.53,5224.13L6473.41,5156.5L6517.87,5245.42L6546.08,5155.51L6588.74,5222.15L6623.94,5159.65L6638.32,5218.69L6742.73,5223.15L6614.71,5262.51L6740.7,5302.02L6638.4,5309.04L6625.41,5367.81L6606.65,5295.21L6549.89,5372.45L6520.76,5269.71L6471.66,5367.78L6437.55,5298.57L6404.54,5363.31L6399.26,5309.47L6278.81,5306.74L6419.58,5260.65Z"
              style="fill:none;"
            />
            <clipPath id="_clip1Card">
              <path
                d="M6419.58,5260.65L6266.76,5213.48L6400.14,5214.66L6411.31,5160.51L6451.53,5224.13L6473.41,5156.5L6517.87,5245.42L6546.08,5155.51L6588.74,5222.15L6623.94,5159.65L6638.32,5218.69L6742.73,5223.15L6614.71,5262.51L6740.7,5302.02L6638.4,5309.04L6625.41,5367.81L6606.65,5295.21L6549.89,5372.45L6520.76,5269.71L6471.66,5367.78L6437.55,5298.57L6404.54,5363.31L6399.26,5309.47L6278.81,5306.74L6419.58,5260.65Z"
              />
            </clipPath>
            <g clip-path="url(#_clip1Card)">
              <g transform="matrix(0.736451,0,0,0.626875,4830.54,4899.62)">
                <path
                  d="M2481.52,475.532C2354.92,469.341 2228.23,463.47 2096.06,475.532C2093.01,547.585 2090.35,619.327 2096.06,684.286C2224.99,694.024 2353.15,686.932 2481.52,684.286C2491.52,618.979 2485.33,546.424 2481.52,475.532Z"
                  :style="{ fill: solidColor }"
                />
              </g>
            </g>
          </g>
        </g>
        <g
          transform="matrix(0.785264,0,0,0.753753,6202.24,6259.1)"
          v-if="showBlink.b"
        >
          <g transform="matrix(1,0,0,1,-5963.27,-4980.82)">
            <path
              d="M6353.85,5335.92L6404.02,5278.17L6278.81,5253.71L6415.91,5241.98L6351.52,5196.01L6390.49,5181.5L6423.91,5232.4L6448.13,5151.79L6473.23,5247.36L6517.87,5145.8L6552.63,5247.23L6586.98,5146.69L6613.97,5227.88L6654.97,5170.46L6692.05,5193.32L6625.61,5237.81L6740.7,5263.98L6630.94,5284.74L6691.87,5339.35L6648.7,5360.33L6620.15,5295.82L6600.4,5381.28L6555.09,5285.63L6513.92,5386.16L6474.07,5286.6L6433.17,5376.03L6415.53,5288.12L6387.37,5352.81L6353.85,5335.92Z"
              style="fill:none;"
            />
            <clipPath id="_clip2Card">
              <path
                d="M6353.85,5335.92L6404.02,5278.17L6278.81,5253.71L6415.91,5241.98L6351.52,5196.01L6390.49,5181.5L6423.91,5232.4L6448.13,5151.79L6473.23,5247.36L6517.87,5145.8L6552.63,5247.23L6586.98,5146.69L6613.97,5227.88L6654.97,5170.46L6692.05,5193.32L6625.61,5237.81L6740.7,5263.98L6630.94,5284.74L6691.87,5339.35L6648.7,5360.33L6620.15,5295.82L6600.4,5381.28L6555.09,5285.63L6513.92,5386.16L6474.07,5286.6L6433.17,5376.03L6415.53,5288.12L6387.37,5352.81L6353.85,5335.92Z"
              />
            </clipPath>
            <g clip-path="url(#_clip2Card)">
              <g transform="matrix(0.736451,0,0,0.626875,4830.54,4899.62)">
                <path
                  d="M2481.52,475.532C2354.92,469.341 2228.23,463.47 2096.06,475.532C2093.01,547.585 2090.35,619.327 2096.06,684.286C2224.99,694.024 2353.15,686.932 2481.52,684.286C2491.52,618.979 2485.33,546.424 2481.52,475.532Z"
                  :style="{ fill: solidColor }"
                />
              </g>
            </g>
          </g>
        </g>
        <g transform="matrix(0.785264,0,0,0.753753,6202.24,6259.1)">
          <g transform="matrix(0.679296,0,0,0.530734,-1001.41,-25.7823)">
            <path
              d="M2481.52,475.532C2354.92,469.341 2228.23,463.47 2096.06,475.532C2093.01,547.585 2090.35,619.327 2096.06,684.286C2224.99,694.024 2353.15,686.932 2481.52,684.286C2491.52,618.979 2485.33,546.424 2481.52,475.532Z"
              style="fill:white;"
            />
            <path
              d="M2484.77,475.221C2484.65,473.005 2483.3,471.265 2481.64,471.183C2443.15,468.503 2404.68,465.735 2366.02,463.726C2327.62,461.73 2289.06,460.222 2250.18,460.127C2199.3,460.003 2147.89,462.299 2095.62,467.037C2092.41,467.33 2089.87,470.766 2089.68,475.052C2088.03,517.541 2086.5,559.921 2086.74,600.868C2086.91,629.835 2087.96,658.088 2090.45,685.164C2090.77,688.8 2093,691.603 2095.74,691.811C2147.35,695.341 2198.82,696.147 2250.22,695.699C2327.41,695.025 2404.46,691.466 2481.58,689.45C2483.39,689.412 2484.95,687.694 2485.31,685.319C2489.38,658.209 2490.71,629.882 2490.56,600.951C2490.35,559.675 2487.15,517.16 2484.77,475.221ZM2478.47,479.798C2480.57,520.26 2483.33,561.212 2483.3,600.979C2483.28,627.76 2481.99,653.998 2478.34,679.17C2402.29,680.361 2326.31,683.109 2250.21,682.813C2200.6,682.62 2150.94,681.106 2101.18,677.15C2099.32,652.523 2098.64,626.964 2098.67,600.819C2098.72,562.601 2100.3,523.144 2102.1,483.524C2152.15,479.135 2201.43,477.587 2250.23,476.97C2288.99,476.48 2327.44,476.571 2365.76,477.214C2403.43,477.845 2440.95,478.748 2478.47,479.798L2478.47,479.798Z"
            />
          </g>
        </g>
      </g>
    </svg>
  </div>
</template>

<script>
import Colors from "../assets/colors.json"

export default {
  props: {
    word: String,
    discovered: Boolean,
    color: String,
    blinking: Boolean,
  },
  data() {
    return {
      rotation: Math.random() * 4 - 2,
      showBlink: {
        a: false,
        b: false,
      },
    };
  },
  computed: {
    solidColor() {
      return Colors[this.color].solid
    },
    lightColor() {
      return Colors[this.color].light
    }
  },
  mounted() {
    if (this.blinking) {
      const offset = Math.round(Math.random() * 500)
      this.showBlink.a = true;
      setInterval(() => {
        this.showBlink.b = true;
        this.showBlink.a = false;
      }, 1000 + offset);
      setTimeout(() => {
        setInterval(() => {
          this.showBlink.a = true;
          this.showBlink.b = false;
        }, 1000 + offset);
      }, 500 + (offset / 2));
    }
  },
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
svg {
  width: 100%;
}

.text {
  position: absolute;
  top: 25%;
  left: 26%;

  width: 54%;
  height: 40%;

  font-size: 70%;

  display: flex;
  justify-content: center;
  align-items: center;
}
</style>
